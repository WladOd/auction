# Go API client for storage

Specification of API to interact with Immudb Cloud Service.

## Overview
This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [OpenAPI-spec](https://www.openapis.org/) from a remote server, you can easily generate an API client.

- API version: 1.0.0
- Package version: 1.0.0
- Build package: org.openapitools.codegen.languages.GoClientCodegen

## Installation

Install the following dependencies:

```shell
go get github.com/stretchr/testify/assert
go get golang.org/x/net/context
```

Put the package under your project folder and add the following in import:

```golang
import storage "github.com/GIT_USER_ID/GIT_REPO_ID/storage"
```

To use a proxy, set the environment variable `HTTP_PROXY`:

```golang
os.Setenv("HTTP_PROXY", "http://proxy_name:proxy_port")
```

## Configuration of Server URL

Default configuration comes with `Servers` field that contains server objects as defined in the OpenAPI specification.

### Select Server Configuration

For using other server than the one defined on index 0 set context value `sw.ContextServerIndex` of type `int`.

```golang
ctx := context.WithValue(context.Background(), storage.ContextServerIndex, 1)
```

### Templated Server URL

Templated server URL is formatted using default variables from configuration or from context value `sw.ContextServerVariables` of type `map[string]string`.

```golang
ctx := context.WithValue(context.Background(), storage.ContextServerVariables, map[string]string{
	"basePath": "v2",
})
```

Note, enum values are always validated and all unused variables are silently ignored.

### URLs Configuration per Operation

Each operation can use different server URL defined using `OperationServers` map in the `Configuration`.
An operation is uniquely identified by `"{classname}Service.{nickname}"` string.
Similar rules for overriding default operation server index and variables applies by using `sw.ContextOperationServerIndices` and `sw.ContextOperationServerVariables` context maps.

```golang
ctx := context.WithValue(context.Background(), storage.ContextOperationServerIndices, map[string]int{
	"{classname}Service.{nickname}": 2,
})
ctx = context.WithValue(context.Background(), storage.ContextOperationServerVariables, map[string]map[string]string{
	"{classname}Service.{nickname}": {
		"port": "8443",
	},
})
```

## Documentation for API Endpoints

All URIs are relative to *http://localhost*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AuditAPI* | [**AuditDocument**](docs/AuditAPI.md#auditdocument) | **Post** /ledger/{ledger}/collection/{collection}/document/{document-id}/audit | Search for audit items for provided document
*AuditAPI* | [**DiffDocument**](docs/AuditAPI.md#diffdocument) | **Put** /ledger/{ledger}/collection/{collection}/document/{document-id}/audit | Return diff for document revisions
*AuditAPI* | [**GetCurrentState**](docs/AuditAPI.md#getcurrentstate) | **Get** /ledger/{ledger}/state | Return current state of immudb ledger
*AuditAPI* | [**GetDocumentProof**](docs/AuditAPI.md#getdocumentproof) | **Post** /ledger/{ledger}/collection/{collection}/document/{document-id}/proof | Return a proof for a document
*AuditAPI* | [**GetLedgerDbSize**](docs/AuditAPI.md#getledgerdbsize) | **Get** /ledger/{ledger}/size | Return ledger DB size
*CollectionsAPI* | [**CollectionCreate**](docs/CollectionsAPI.md#collectioncreate) | **Put** /ledger/{ledger}/collection/{collection} | Create collection in the ledger
*CollectionsAPI* | [**CollectionDelete**](docs/CollectionsAPI.md#collectiondelete) | **Delete** /ledger/{ledger}/collection/{collection} | Delete collection
*CollectionsAPI* | [**CollectionGet**](docs/CollectionsAPI.md#collectionget) | **Get** /ledger/{ledger}/collection/{collection} | Return information about collection
*CollectionsAPI* | [**CollectionUpdate**](docs/CollectionsAPI.md#collectionupdate) | **Post** /ledger/{ledger}/collection/{collection} | Update collection within the ledger
*CollectionsAPI* | [**CollectionsList**](docs/CollectionsAPI.md#collectionslist) | **Get** /ledger/{ledger}/collections | List collection within a ledger
*DocumentsAPI* | [**AuditDocument**](docs/DocumentsAPI.md#auditdocument) | **Post** /ledger/{ledger}/collection/{collection}/document/{document-id}/audit | Search for audit items for provided document
*DocumentsAPI* | [**CountDocuments**](docs/DocumentsAPI.md#countdocuments) | **Post** /ledger/{ledger}/collection/{collection}/documents/count | Count documents inside collection
*DocumentsAPI* | [**DiffDocument**](docs/DocumentsAPI.md#diffdocument) | **Put** /ledger/{ledger}/collection/{collection}/document/{document-id}/audit | Return diff for document revisions
*DocumentsAPI* | [**DocumentCreate**](docs/DocumentsAPI.md#documentcreate) | **Put** /ledger/{ledger}/collection/{collection}/document | Create new document inside collection
*DocumentsAPI* | [**DocumentCreateMany**](docs/DocumentsAPI.md#documentcreatemany) | **Put** /ledger/{ledger}/collection/{collection}/documents | Create multiple documents inside collection
*DocumentsAPI* | [**GetDocumentProof**](docs/DocumentsAPI.md#getdocumentproof) | **Post** /ledger/{ledger}/collection/{collection}/document/{document-id}/proof | Return a proof for a document
*DocumentsAPI* | [**SearchDocument**](docs/DocumentsAPI.md#searchdocument) | **Post** /ledger/{ledger}/collection/{collection}/documents/search | Search for a document inside collection
*DocumentsAPI* | [**UpdateDocument**](docs/DocumentsAPI.md#updatedocument) | **Post** /ledger/{ledger}/collection/{collection}/document | Replace whole document with new provided
*ExportAPI* | [**GetExportInformation**](docs/ExportAPI.md#getexportinformation) | **Get** /ledger/{ledger}/export/status | Return information about export
*ExportAPI* | [**S3Export**](docs/ExportAPI.md#s3export) | **Post** /ledger/{ledger}/export/s3 | Start export request
*IndexesAPI* | [**CreateIndex**](docs/IndexesAPI.md#createindex) | **Post** /ledger/{ledger}/collection/{collection}/indexes | Create a new index in the collection
*IndexesAPI* | [**DeleteIndex**](docs/IndexesAPI.md#deleteindex) | **Put** /ledger/{ledger}/collection/{collection}/indexes | Delete index in the collection


## Documentation For Models

 - [ActionResult](docs/ActionResult.md)
 - [Collection](docs/Collection.md)
 - [CollectionCreateRequest](docs/CollectionCreateRequest.md)
 - [CollectionListResponse](docs/CollectionListResponse.md)
 - [CollectionUpdateRequest](docs/CollectionUpdateRequest.md)
 - [CreateCollectionErrReply](docs/CreateCollectionErrReply.md)
 - [DocumentAtRevision](docs/DocumentAtRevision.md)
 - [DocumentAuditRequest](docs/DocumentAuditRequest.md)
 - [DocumentAuditResponse](docs/DocumentAuditResponse.md)
 - [DocumentCountRequest](docs/DocumentCountRequest.md)
 - [DocumentDiff](docs/DocumentDiff.md)
 - [DocumentDiffRequest](docs/DocumentDiffRequest.md)
 - [DocumentDiffResponse](docs/DocumentDiffResponse.md)
 - [DocumentInsertManyRequest](docs/DocumentInsertManyRequest.md)
 - [DocumentInsertManyResponse](docs/DocumentInsertManyResponse.md)
 - [DocumentInsertResponse](docs/DocumentInsertResponse.md)
 - [DocumentProofRequest](docs/DocumentProofRequest.md)
 - [DocumentProofResponse](docs/DocumentProofResponse.md)
 - [DocumentSearchRequest](docs/DocumentSearchRequest.md)
 - [DocumentSearchResponse](docs/DocumentSearchResponse.md)
 - [DocumentUpdateRequest](docs/DocumentUpdateRequest.md)
 - [DocumentUpdateResponse](docs/DocumentUpdateResponse.md)
 - [DocumentsCountResponse](docs/DocumentsCountResponse.md)
 - [ErrReply](docs/ErrReply.md)
 - [ExportID](docs/ExportID.md)
 - [ExportInformation](docs/ExportInformation.md)
 - [ExportS3](docs/ExportS3.md)
 - [Field](docs/Field.md)
 - [FieldComparison](docs/FieldComparison.md)
 - [FieldType](docs/FieldType.md)
 - [Index](docs/Index.md)
 - [IndexCreateRequest](docs/IndexCreateRequest.md)
 - [IndexDeleteRequest](docs/IndexDeleteRequest.md)
 - [LedgerDBSize](docs/LedgerDBSize.md)
 - [Operator](docs/Operator.md)
 - [OrderBy](docs/OrderBy.md)
 - [PaginationRequest](docs/PaginationRequest.md)
 - [PaginationResponse](docs/PaginationResponse.md)
 - [Query](docs/Query.md)
 - [QueryExpression](docs/QueryExpression.md)
 - [QueryObject](docs/QueryObject.md)
 - [QueryObjectValue](docs/QueryObjectValue.md)
 - [SchemaDualProofV2](docs/SchemaDualProofV2.md)
 - [SchemaEntry](docs/SchemaEntry.md)
 - [SchemaExpiration](docs/SchemaExpiration.md)
 - [SchemaImmutableState](docs/SchemaImmutableState.md)
 - [SchemaKVMetadata](docs/SchemaKVMetadata.md)
 - [SchemaReference](docs/SchemaReference.md)
 - [SchemaSignature](docs/SchemaSignature.md)
 - [SchemaTx](docs/SchemaTx.md)
 - [SchemaTxEntry](docs/SchemaTxEntry.md)
 - [SchemaTxHeader](docs/SchemaTxHeader.md)
 - [SchemaTxMetadata](docs/SchemaTxMetadata.md)
 - [SchemaVerifiableTxV2](docs/SchemaVerifiableTxV2.md)
 - [SchemaZEntry](docs/SchemaZEntry.md)
 - [StatusCode](docs/StatusCode.md)


## Documentation For Authorization


Authentication schemes defined for the API:
### ApiKeyAuth

- **Type**: API key
- **API key parameter name**: X-API-Key
- **Location**: HTTP header

Note, each API key must be added to a map of `map[string]APIKey` where the key is: X-API-Key and passed in as the auth context for each request.

Example

```golang
auth := context.WithValue(
		context.Background(),
		sw.ContextAPIKeys,
		map[string]sw.APIKey{
			"X-API-Key": {Key: "API_KEY_STRING"},
		},
	)
r, err := client.Service.Operation(auth, args)
```

### PassetoAuth

- **Type**: HTTP Bearer token authentication

Example

```golang
auth := context.WithValue(context.Background(), sw.ContextAccessToken, "BEARER_TOKEN_STRING")
r, err := client.Service.Operation(auth, args)
```


## Documentation for Utility Methods

Due to the fact that model structure members are all pointers, this package contains
a number of utility functions to easily obtain pointers to values of basic types.
Each of these functions takes a value of the given basic type and returns a pointer to it:

* `PtrBool`
* `PtrInt`
* `PtrInt32`
* `PtrInt64`
* `PtrFloat`
* `PtrFloat32`
* `PtrFloat64`
* `PtrString`
* `PtrTime`

## Author

contact@codenotary.com

